.field {
  // Все залежить від поля inputRoot: воно приймає стан та класи
  // hover (:hover), focus (Mui-focused), error (.Mui-error)
  .inputRoot {
    border-radius: 30px;
    width: 100%;
    padding: 0;

    fieldset {
      border: 1px solid var(--grey-color-light);
      transition: border-color 0.3s;
      padding: 0;
    }

    &:hover fieldset {
      border-color: var(--brand-color);
    }
  }

  // field приймає класс filled
  &.filled {
    .inputRoot {
      fieldset {
        border: 1px solid var(--brand-color);
      }
    }
  }
}

// focus (MUI додає клас .Mui-focused на той же елемент, що має .inputRoot)
:global(.Mui-focused).inputRoot fieldset {
  border: 1px solid var(--brand-color) !important;
}

// error (MUI додає клас .Mui-error на той же елемент, що має .inputRoot)
:global(.Mui-error).inputRoot fieldset {
  border-color: var(--error-color);
}

// ==========================================================================================================================

// Стилізація "інпута" (секцій)
.field :global(.MuiPickersSectionList-root) {
  font-family: $fontFamily;
  font-weight: 500;
  font-size: 16px;
  line-height: 1.25;
  letter-spacing: -0.03em;
  opacity: 1;
  padding: 16px;
  padding-right: 0;

  @media (max-width: rem($mobileMedium)) {
    padding: 12px;
    font-size: 14px;
    line-height: 1.28571;
  }
}

.field :global(.MuiPickersSectionList-section),
.field :global(.MuiPickersSectionList-section > span) {
  font-family: inherit;
  font-weight: inherit;
  font-size: inherit;
  line-height: inherit;
  letter-spacing: inherit;
}

/* Плейсхолдер: коли значення порожнє (клас .filled НЕ проставлений) */
.field:not(.filled) :global(.MuiPickersSectionList-root) {
  color: var(--grey-color);
}

/* Введене значення: коли поле заповнене (є клас .filled) */
.field.filled :global(.MuiPickersSectionList-root),

/* Коли фокус на всьому полі */
:global(.Mui-focused).inputRoot :global(.MuiPickersSectionList-root) {
  color: var(--main-color);
}

// ==========================================================================================================================

// Calendar icon
.field .inputRoot .calendarIcon {
  margin-right: 8px; // 16px (general padding) - 8px (icon padding)

  @media (max-width: rem($mobileMedium)) {
    padding: 4px; // 12px (general padding) - 8px (icon padding)
  }

  :global(.MuiSvgIcon-root) {
    fill: var(--main-color);
  }
}

// ==========================================================================================================================

// Calendar

// === desktop ===
.calendarPopper {
  .calendarPaper {
    margin-top: 4px;
    box-shadow: none;
    border: 1px solid var(--grey-color-light);
    border-radius: 15px;
    font-family: $fontFamily;
    font-weight: 500;
    font-size: 16px;
    line-height: 1.25;
    letter-spacing: -0.03em;
    color: var(--main-color);

    // Заголовок місяця
    :global(.MuiPickersCalendarHeader-root .MuiPickersCalendarHeader-labelContainer) {
      font-family: inherit;
      font-weight: inherit;
      font-size: inherit;
      line-height: inherit;
      letter-spacing: inherit;
      color: inherit;
    }

    // Кнопки навігації
    :global(.MuiPickersArrowSwitcher-root) {
      button {
        :global(.MuiSvgIcon-root) {
          fill: var(--main-color);
        }
      }
    }

    /* ====== Числа ====== */
    // Всі дні
    :global(.MuiButtonBase-root.MuiPickersDay-root:not(.Mui-selected)) {
    }

    // Сьогодні
    :global(.MuiButtonBase-root.MuiPickersDay-root:not(.Mui-selected).MuiPickersDay-today) {
      border: 1px solid var(--grey-color-light);
    }

    // Вибраний день
    :global(.MuiButtonBase-root.MuiPickersDay-root.Mui-selected) {
      background: var(--brand-color);
    }

    /* ====== РОКИ ====== */
    // Спільні стилі кнопок-років
    :global(.MuiYearCalendar-button) {
      font-family: inherit;
      font-weight: inherit;
      font-size: inherit;
      line-height: inherit;
      letter-spacing: inherit;
      color: inherit;
    }

    // Поточний рік, але НЕ вибраний
    :global(.MuiYearCalendar-button[aria-current='date']:not(.Mui-selected)) {
      border: 1px solid var(--grey-color-light);
    }

    // Вибраний рік
    :global(.MuiYearCalendar-button.Mui-selected) {
      background: var(--brand-color);
      color: var(--white-color);
    }
  }
}

// ==========================================================================================================================

// === mobile ===
.calendarDialog {
  // Бекдроп
  :global(.MuiBackdrop-root) {
    background-color: var(--grey-color-light7);
  }

  // Модалка
  .calendarPaper {
    border-radius: 30px;
    font-family: $fontFamily;
    font-weight: 500;
    letter-spacing: -0.03em;
    color: var(--main-color);
  }

  // Select date
  :global(.MuiPickersToolbar-title) {
    font-family: inherit;
    font-weight: inherit;
  }

  // Title (Selected date)
  :global(.MuiDatePickerToolbar-title) {
    font-family: inherit;
    font-weight: inherit;
    color: var(--main-color);
  }

  // Month and year Title
  :global(.MuiPickersCalendarHeader-labelContainer) {
    font-family: inherit;
    font-weight: inherit;
    color: var(--main-color);
  }

  /* ====== Числа ====== */
  // Всі дні
  :global(.MuiButtonBase-root.MuiPickersDay-root:not(.Mui-selected)) {
  }

  // Сьогодні
  :global(.MuiButtonBase-root.MuiPickersDay-root:not(.Mui-selected).MuiPickersDay-today) {
    border: 1px solid var(--grey-color-light);
  }

  // Вибраний день
  :global(.MuiButtonBase-root.MuiPickersDay-root.Mui-selected) {
    background: var(--brand-color);
  }

  /* ====== РОКИ ====== */
  // Спільні стилі кнопок-років
  :global(.MuiYearCalendar-root .MuiYearCalendar-button) {
    font-family: inherit;
    font-weight: inherit;
    font-size: inherit;
    line-height: inherit;
    letter-spacing: inherit;
    color: inherit;
  }

  // Поточний рік, але НЕ вибраний
  :global(.MuiYearCalendar-root .MuiYearCalendar-button[aria-current='date']:not(.Mui-selected)) {
    border: 1px solid var(--grey-color-light);
  }

  // Вибраний рік
  :global(.MuiYearCalendar-root .MuiYearCalendar-button.Mui-selected) {
    background: var(--brand-color);
    color: var(--white-color);
  }

  // Ok & Cancel buttons
  :global(.MuiButtonBase-root.MuiButton-root) {
    color: var(--brand-color);
  }
}
